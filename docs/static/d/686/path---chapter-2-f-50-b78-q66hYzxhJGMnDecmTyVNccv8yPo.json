{"data":{"site":{"siteMetadata":{"courseId":"gams-in-r-course"}},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"exercise","properties":{"id":"1","title":"Interpreting GAM outputs","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter2_01"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"2","title":"Significance and linearity (I)"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"It’s time for you to summarize a model and interpret the output."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After summarizing the model, you will answer the following question: "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Summarize the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod_city4"}]},{"type":"text","value":" model."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_02"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can call the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"summary()"}]},{"type":"text","value":" function on the model object which will provide you with a table of information on the model smooths."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Multiple Choice: Which smooth term in this model is "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"significant"}]},{"type":"text","value":" and "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"linear"}]},{"type":"text","value":"?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"weight"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(weight)"}]},{"type":"text","value":" has "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"edf"}]},{"type":"text","value":" over five, indicating it is nonlinear.”"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"length"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(length)"}]},{"type":"text","value":" has a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"p-value"}]},{"type":"text","value":" over 0.05 and no stars, indicating it is not significant."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"price","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"price"}]},{"type":"text","value":" is significant (p <0.05) and linear ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"edf"}]},{"type":"text","value":" near 1)."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"rpm"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(rpm)"}]},{"type":"text","value":" has "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"edf"}]},{"type":"text","value":" over five, indicating it is nonlinear."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"width"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(width)"}]},{"type":"text","value":" has a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"p-value"}]},{"type":"text","value":" over 0.05 and no stars, indicating it is not significant."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"3","title":"Significance and linearity (II)"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Looking at the same model ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod_city4"}]},{"type":"text","value":"), which smooth term is "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"non-significant"}]},{"type":"text","value":" and "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"non-linear"}]},{"type":"text","value":"?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"weight"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(weight)"}]},{"type":"text","value":" has a p-value below 0.05, indicating that it is significant."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"length","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! Now let’s move on to interpreting our models visually."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"price"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(price)"}]},{"type":"text","value":" has a p-value below 0.05, indicating that it is significant, and also an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"edf"}]},{"type":"text","value":" of 1, indicating it is linear."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"rpm"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(rpm)"}]},{"type":"text","value":" has a p-value below 0.05, indicating that it is significant."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"width"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"s(width)"}]},{"type":"text","value":" has an "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"edf"}]},{"type":"text","value":" near 1, indicating it is linear."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"4","title":"Visualizing GAMs","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter2_04"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"5","title":"Plotting the motorcycle crash model and data"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For our first plotting exercise, we’ll add "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"partial residuals"}]},{"type":"text","value":" to the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"partial effect plot"}]},{"type":"text","value":" of a GAM so as to compare the model to the data."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Plot the model ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":") that uses "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mcycle"}]},{"type":"text","value":" data. Add partial residuals to the plot."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make a second plot, making partial residuals more visible by changing the shape using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pch"}]},{"type":"text","value":" argument, and size of the residuals using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cex"}]},{"type":"text","value":" argument. Set both the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pch"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cex"}]},{"type":"text","value":" arguments to 1."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_05"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" function with the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"residuals"}]},{"type":"text","value":" argument."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Change shape and size of residuals with the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pch"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"cex"}]},{"type":"text","value":" arguments."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"6","title":"Plotting multiple auto performance variables"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In plotting GAMs, you sometimes want to look at just parts of a model, or all the terms in model.  Here you’ll practice selecting which terms to visualize."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Plot the provided model ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":") that uses the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mpg"}]},{"type":"text","value":" data, using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select"}]},{"type":"text","value":" term to view only the partial effect of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"price"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make another plot, this time showing "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"all"}]},{"type":"text","value":" terms on a single page, including the linear "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"comp.ratio"}]},{"type":"text","value":" term."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_06"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"select"}]},{"type":"text","value":" argument in "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"plot()"}]},{"type":"text","value":" to show the partial effect of a specific term, using the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":" of the term in the model formula to select it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pages"}]},{"type":"text","value":" argument determines the total number of pages across which to plot terms."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"all.terms = TRUE"}]},{"type":"text","value":" argument includes linear terms in the plot."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You can look up function arguments with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"?plot.gam"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"7","title":"Visualizing auto performance uncertainty"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Confidence intervals are a very important visual indicator of model fit.  Here you’ll practice changing the appearance of confidence intervals and transforming the scale of partial effects plots."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Plot the model ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":") that uses the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mpg"}]},{"type":"text","value":" data, plotting only the partial effect of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":". Make the confidence interval shaded and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"\"hotpink\""}]},{"type":"text","value":" in color."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Make another plot of the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":" partial effect, this time shifting the scale by the value of the intercept using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"shift"}]},{"type":"text","value":" argument, and including the uncertainty of the model intercept using the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"seWithMean"}]},{"type":"text","value":" argument."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_07"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"shade"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"shade.col"}]},{"type":"text","value":" arguments to shade and color the confidence interval."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Remember the value of the intercept is "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"coef(mod)[1]"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"You can look up function arguments with "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"?plot.gam"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"8","title":"Model checking with gam.check()","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter2_08"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"9","title":"Reading model diagnostics"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]},{"type":"text","value":" helps you understand whether you have enough basis functions to model the data."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After running checks on the model, answer the following question: Which smooths do not have sufficient numbers of basis functions?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Print diagnostics on model ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":") basis size and plots of model residuals."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_09"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Call "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]},{"type":"text","value":" on the model."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Smooths that have "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"significant"}]},{"type":"text","value":" effects in the diagnostic test ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"p"}]},{"type":"text","value":" < 0.05, with asterisks) generally do not have enough basis functions.  This indicates non-random patterns in residuals."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"x0"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. A smooth without enough basis functions would have significant results in "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"x1"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. A smooth without enough basis functions would have significant results in "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"x2","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"x2"}]},{"type":"text","value":" does not have enough basis functions because it has a significant result in the diagnostic test."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"`x3`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. A smooth without enough basis functions would have significant results in "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"10","title":"Fixing problems with model diagnostics"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]},{"type":"text","value":" to improve models by updating them based on its results."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run the model diagnostics on "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Based on the diagnostics, re-fit the model as "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod2"}]},{"type":"text","value":", changing the number of basis functions ("},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"k"}]},{"type":"text","value":") for failing smooths. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Run the model diagnostics on "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod2"}]},{"type":"text","value":" to ensure you have fixed the issue."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_10"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"gam.check()"}]},{"type":"text","value":" to run the model diagnostics. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Increase the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"k"}]},{"type":"text","value":" values in the model for smooths that have significant diagnostic tests. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Keep changing the model until the diagnostic shows no significant results for patterns in residuals."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"exercise","properties":{"id":"11","title":"Checking concurvity","type":"slides"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"slides","properties":{"source":"chapter2_11"},"children":[{"type":"text","value":" \n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"12","title":"Examining overall concurvity in auto data"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Let’s take a look at concurvity in the fuel efficiency model variables.  "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After checking the overall concurvity of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":", answer the following question: Which smooth is "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"least"}]},{"type":"text","value":" pre-determined by all the other variables?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Inspect the overall concurvity of "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_12"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"For overall concurvity, use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"full = TRUE"}]},{"type":"text","value":" in the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"concurvity()"}]},{"type":"text","value":" function."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"least"}]},{"type":"text","value":" pre-determined variable generally has the "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"lowest"}]},{"type":"text","value":" concurvity according to all three ways of measuring it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It is sometime helpful to wrap the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"concurvity()"}]},{"type":"text","value":" results in a "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"round()"}]},{"type":"text","value":" function for easier inspection, like so: "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"round(concurvity(mod, full = TRUE), 2)"}]},{"type":"text","value":".\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"s(length)"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":" has high overall concurvity."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"s(width)"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"width"}]},{"type":"text","value":" has high overall concurvity."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"s(height)","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"height"}]},{"type":"text","value":" has relatively low concurvity.  It isn’t too similar to any of the other variables."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"s(weight)"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Incorrect. "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":" has high overall concurvity."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"exercise","properties":{"id":"13","title":"Examining concurvity between auto variables"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now, let’s look at concurvity "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"between"}]},{"type":"text","value":" model variables."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Instructions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Inspect the pairwise concurvity for variables in "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"mod"}]},{"type":"text","value":", then answer the question."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"codeblock","properties":{"id":"02_13"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"For pairwise concurvity, use "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"full = FALSE"}]},{"type":"text","value":" in the "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"concurvity()"}]},{"type":"text","value":" function."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"It is sometimes helpful to round concurvity values for easier inspection, which you can do for each matrix like so "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"round(concurvity(mod, full = FALSE)$worst, 2)"}]},{"type":"text","value":".\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Multiple Choice: Which two variables have the greatest worst-case concurvity?"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"choice","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"`height` and `length`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"height"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":" have worst-case concurvity of about 0.606.  Which pair of variables has greater concurvity?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"`height` and `weight`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"height"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":" have worst-case concurvity of about 0.367.  Which pair of variables has greater concurvity?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"`length` and `width`","correct":"true"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Close! "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"length"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"width"}]},{"type":"text","value":" have a high worst-case concurvity: about 0.834  Which pair of variables has even greater concurvity?"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"opt","properties":{"text":"`weight` and `width`"},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Correct! "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"weight"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"width"}]},{"type":"text","value":" have worst-case concurvity of about 0.895."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}]}],"data":{"quirksMode":false}},"frontmatter":{"id":2,"title":"2 - Interpreting and Visualizing GAMs","description":"In this chapter, you will take a closer look at the models you fit in chapter 1 and learn how to interpret and explain them.  You will learn how to make plots that show how different variables affect model outcomes.  Then you will diagnose problems in models arising from under-fitting the data or hidden relationships between variables, and how to iteratively fix those problems and get better results.","next":"/chapter3","prev":"/chapter1"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/chapter2"}}